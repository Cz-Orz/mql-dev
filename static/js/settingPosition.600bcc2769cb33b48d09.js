webpackJsonp([9],{"9p2M":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.permission-header[data-v-3aa31047] {\n  min-width: 1088px;\n  background: #f2f2f2;\n}\n.permission-main[data-v-3aa31047] {\n  min-width: 1088px;\n}\n.permission-main .permission-select[data-v-3aa31047] {\n    width: 100px;\n}\n",""])},FSvF:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.page-main .permission-breadcrumb[data-v-f32e3d38] {\n  min-width: 1088px;\n  padding-left: 20px;\n}\n[data-v-f32e3d38].permission-main {\n  min-width: 1032px;\n}\n[data-v-f32e3d38].permission-main .main-steps {\n    width: 750px;\n}\n[data-v-f32e3d38].permission-main .main-steps .el-step__head {\n      border-color: #ccc;\n}\n[data-v-f32e3d38].permission-main .main-steps .el-step__head .el-step__line {\n        top: 15px;\n}\n[data-v-f32e3d38].permission-main .main-steps .el-step__head .el-step__icon {\n        width: 32px;\n        height: 32px;\n}\n[data-v-f32e3d38].permission-main .main-steps .is-process {\n      color: #ccc;\n}\n[data-v-f32e3d38].permission-main .main-steps .is-finish {\n      border-color: #409EFF;\n}\n[data-v-f32e3d38].permission-main .main-steps .el-step__main .el-step__title {\n      font-size: 13px;\n}\n[data-v-f32e3d38].permission-main .main-steps .el-step__main .is-process {\n      font-weight: 400;\n      color: #999;\n}\n[data-v-f32e3d38].permission-main .main-basicInfo .basicInfo-top .basicInfo-form {\n    margin: 20px;\n    font-size: 13px;\n}\n[data-v-f32e3d38].permission-main .main-basicInfo .basicInfo-bottom .basicInfo-form {\n    margin: 20px;\n    font-size: 13px;\n}\n[data-v-f32e3d38].permission-main .main-basicInfo .basicInfo-bottom .basicInfo-form .basicInfo-form-item {\n      position: relative;\n}\n[data-v-f32e3d38].permission-main .main-basicInfo .basicInfo-bottom .basicInfo-form .basicInfo-form-item .basicInfo-input {\n        width: 100px;\n}\n[data-v-f32e3d38].permission-main .main-basicInfo .basicInfo-bottom .basicInfo-form .basicInfo-form-item .basicInfo-span {\n        position: absolute;\n        right: -42px;\n        top: 0;\n        color: #333;\n}\n[data-v-f32e3d38].permission-main .main-basicInfo .basicInfo-title {\n    font-weight: 400;\n    font-size: 14px;\n    height: 20px;\n    line-height: 20px;\n    padding-left: 5px;\n    border-left: 5px solid #4eaaed;\n}\n[data-v-f32e3d38].permission-main .main-basicInfo .basicInfo-next {\n    margin: 60px 0px;\n    margin-left: 340px;\n}\n[data-v-f32e3d38].permission-main .main-basicInfo .basicInfo-next button {\n      width: 120px;\n}\n[data-v-f32e3d38].permission-main .main-replacement {\n    margin-top: 20px;\n}\n[data-v-f32e3d38].permission-main .main-replacement .replacement-title {\n      font-size: 14px;\n      font-weight: 400;\n}\n[data-v-f32e3d38].permission-main .main-replacement .replacement-title span {\n        color: #C9C9C9;\n}\n[data-v-f32e3d38].permission-main .main-replacement .replacement-content {\n      min-width: 1009px;\n      margin-top: 20px;\n      padding: 30px;\n      height: 85px;\n      background: #f2f2f2;\n}\n[data-v-f32e3d38].permission-main .main-replacement .replacement-save {\n      margin: 60px 0px;\n      margin-left: 340px;\n}\n[data-v-f32e3d38].permission-main .main-replacement .replacement-save button {\n        width: 110px;\n}\n",""])},Rb3t:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("Dte2"),a("+BTi");var n=a("q4le"),i=a.n(n),s=(a("isE6"),a("LR6y")),o={components:{elTable:a.n(s).a,elTableColumn:i.a},data:function(){return{pageLoading:!1,tableData:[]}},mounted:function(){this.queryList()},methods:{queryList:function(){var e=this;this.API.setting.selectPost().then(function(t){t.forEach(function(e){e.selectValue=""}),e.tableData=t})},addPostList:function(){this.$store.dispatch("setting/position/setPositionInfo",{postId:"",postName:"",roleId:"",roleName:"",foodFee:"",communicateFee:"",roomFee:"",holiday:"",empIds:[]}),this.$router.push({path:"add"})},selectChange:function(e,t){var a=this;"0"===e.selectValue?(this.$store.dispatch("setting/position/setPositionInfo",{postId:e.postId,postName:e.postName,roleId:e.roleIds,roleName:e.roleNames,foodFee:e.foodFee,communicateFee:e.communicateFee,roomFee:e.roomFee,holiday:e.holiday,empIds:[]}),this.$router.push({path:"edit"})):"1"===e.selectValue&&(this.pageLoading=!0,this.API.setting.delPost({postId:e.postId}).then(function(e){a.pageLoading=!1,a.$message({type:"success",message:"删除成功"}),a.tableData.splice(t,1)},function(){a.pageLoading=!1,e.selectValue="",a.$message({type:"error",message:"删除失败，请稍后再试"})}))}}},l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-main setting-position"},[a("mql-header",{staticClass:"permission-header"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addPostList()}}},[e._v("新增职位")])],1),e._v(" "),a("mql-main",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"permission-main"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"cell-style":{textAlign:"center",fontSize:"13px"},"header-cell-style":{background:"#e4e4e4",color:"#333",textAlign:"center",fontSize:"13px"}}},[a("el-table-column",{staticStyle:{color:"#000"},attrs:{prop:"postName",label:"职位名称",width:""}}),e._v(" "),a("el-table-column",{staticStyle:{color:"#000"},attrs:{prop:"roleNames",label:"权限组",width:""}}),e._v(" "),a("el-table-column",{staticStyle:{color:"#000"},attrs:{prop:"peopleCount",label:"人数",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"foodFee",label:"伙食费(元/月)",width:""}}),e._v(" "),a("el-table-column",{staticStyle:{color:"#000"},attrs:{prop:"communicateFee",label:"通信费(元/月)",width:""}}),e._v(" "),a("el-table-column",{staticStyle:{color:"#000"},attrs:{prop:"roomFee",label:"住宿费(元/月)",width:""}}),e._v(" "),a("el-table-column",{staticStyle:{color:"#000"},attrs:{prop:"holiday",label:"假期(天/月)",width:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticClass:"permission-select",attrs:{placeholder:"更多操作"},on:{change:function(a){e.selectChange(t.row,t.$index)}},model:{value:t.row.selectValue,callback:function(a){e.$set(t.row,"selectValue",a)},expression:"scope.row.selectValue"}},[a("el-option",{attrs:{label:"编辑",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"删除",value:"1"}})],1)]}}])})],1)],1)],1)};l._withStripped=!0;var c={render:l,staticRenderFns:[]},r=c;var m=!1;var p=a("VU/8")(o,r,!1,function(e){m||a("nME/")},"data-v-3aa31047",null);p.options.__file="src/views/home/setting/settingPosition/index.vue";t.default=p.exports},gQgw:function(e,t,a){var n=a("FSvF");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("0dc3a87a",n,!1,{})},"nME/":function(e,t,a){var n=a("9p2M");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("35729fb5",n,!1,{})},pGQG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("TFIm"),a("+BTi");var n=a("s3ue"),i=a.n(n),s=(a("dmRH"),a("EKTV")),o=a.n(s),l=(a("EYpU"),a("9Y4M")),c=a.n(l),r=(a("Z1wW"),a("raHz")),m={components:{elSteps:a.n(r).a,elStep:c.a,elCheckbox:o.a,elCheckboxGroup:i.a},data:function(){var e=this.$store.state.setting.position.positionInfo;return{activeStep:1,roleList:[],empList:[],checkedList:[],basicInfo:{name:e.postName,postId:e.postId,roleName:"",roleId:""},allowance:{board:e.foodFee,communication:e.communicateFee,accommodation:e.roomFee,holiday:e.holiday},rules:{name:[{required:!0,message:"请输入职位名称",trigger:"blur"},{min:1,max:10,message:"不超过10个字",trigger:"blur"}],board:[{validator:this.validateMonney,trigger:"blur"}],communication:[{validator:this.validateMonney,trigger:"blur"}],accommodation:[{validator:this.validateMonney,trigger:"blur"}],holiday:[{validator:this.validateMonney,trigger:"blur"}]}}},mounted:function(){console.log(this.$route),this.selectRoles(),this.queryempList()},methods:{selectRoles:function(){var e=this;this.API.setting.selectRoleDropdown().then(function(t){e.roleList=t,e.basicInfo.roleId=e.$store.state.setting.position.positionInfo.roleId,e.basicInfo.roleName=e.$store.state.setting.position.positionInfo.roleName})},queryempList:function(){var e=this;this.API.setting.empList().then(function(t){e.empList=t})},selectChange:function(e){var t=this;this.roleList.forEach(function(a){a.roleId===e&&(t.basicInfo.roleName=a.roleName)})},savePost:function(){var e=this,t={postName:this.basicInfo.name,roleId:this.basicInfo.roleId,roleName:this.basicInfo.roleName,foodFee:this.allowance.board,communicateFee:this.allowance.communication,roomFee:this.allowance.accommodation,holiday:this.allowance.holiday,empIds:this.checkedList};"positionAdd"===this.$route.name?this.API.setting.savePost(t).then(function(t){e.$message({type:"success",message:"新增成功"}),e.$router.push({path:"list"})}):(t.postId=this.basicInfo.postId,this.API.setting.modifyPost(t).then(function(t){e.$message({type:"success",message:"修改成功"}),e.$router.push({path:"list"})}))},validateMonney:function(e,t,a){""===t?a():Number.isInteger(t)?a():a(new Error("请输入数字值"))},clickNext:function(){this.activeStep++}}},p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-main setting-permission-detail"},[a("mql-breadcrumb",{staticClass:"permission-breadcrumb"}),e._v(" "),a("mql-main",{staticClass:"permission-main"},[a("el-steps",{staticClass:"main-steps",attrs:{active:e.activeStep,"align-center":""}},[a("el-step",{attrs:{title:"基本信息"}}),e._v(" "),a("el-step",{attrs:{title:"员工职位调整"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.activeStep,expression:"activeStep===1"}],staticClass:"main-basicInfo"},[a("div",{staticClass:"basicInfo-top"},[a("div",{staticClass:"basicInfo-title"},[e._v("\n                        基本信息\n                    ")]),e._v(" "),a("el-form",{staticClass:"basicInfo-form",attrs:{inline:!0,model:e.basicInfo,rules:e.rules}},[a("el-form-item",{attrs:{label:"职位名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"不超过10个字"},model:{value:e.basicInfo.name,callback:function(t){e.$set(e.basicInfo,"name",t)},expression:"basicInfo.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限组"}},[a("el-select",{on:{change:e.selectChange},model:{value:e.basicInfo.roleId,callback:function(t){e.$set(e.basicInfo,"roleId",t)},expression:"basicInfo.roleId"}},e._l(e.roleList,function(e){return a("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})}),1)],1)],1)],1),e._v(" "),a("div",{staticClass:"basicInfo-bottom"},[a("div",{staticClass:"basicInfo-title"},[e._v("\n                        员工补贴\n                    ")]),e._v(" "),a("el-form",{staticClass:"basicInfo-form",attrs:{model:e.allowance,rules:e.rules,"label-position":"left","label-width":"80px",inline:!0}},[a("el-form-item",{staticClass:"basicInfo-form-item",attrs:{prop:"board",label:"伙食费"}},[a("el-input",{staticClass:"basicInfo-input",attrs:{placeholder:""},model:{value:e.allowance.board,callback:function(t){e.$set(e.allowance,"board",e._n(t))},expression:"allowance.board"}}),e._v(" "),a("span",{staticClass:"basicInfo-span"},[e._v("元/月")])],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",{staticClass:"basicInfo-form-item",attrs:{prop:"communication",label:"通信费"}},[a("el-input",{staticClass:"basicInfo-input",attrs:{placeholder:""},model:{value:e.allowance.communication,callback:function(t){e.$set(e.allowance,"communication",e._n(t))},expression:"allowance.communication"}}),e._v(" "),a("span",{staticClass:"basicInfo-span"},[e._v("元/月")])],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",{staticClass:"basicInfo-form-item",attrs:{prop:"accommodation",label:"住宿费"}},[a("el-input",{staticClass:"basicInfo-input",attrs:{placeholder:""},model:{value:e.allowance.accommodation,callback:function(t){e.$set(e.allowance,"accommodation",e._n(t))},expression:"allowance.accommodation"}}),e._v(" "),a("span",{staticClass:"basicInfo-span"},[e._v("元/月")])],1),e._v(" "),a("br"),e._v(" "),a("el-form-item",{staticClass:"basicInfo-form-item",attrs:{prop:"holiday",label:"假期"}},[a("el-input",{staticClass:"basicInfo-input",attrs:{placeholder:""},model:{value:e.allowance.holiday,callback:function(t){e.$set(e.allowance,"holiday",e._n(t))},expression:"allowance.holiday"}}),e._v(" "),a("span",{staticClass:"basicInfo-span"},[e._v("天/月")])],1)],1)],1),e._v(" "),a("div",{staticClass:"basicInfo-next"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.clickNext}},[e._v("下一步")])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===e.activeStep,expression:"activeStep===2"}],staticClass:"main-replacement"},[a("div",{staticClass:"replacement-title"},[a("span",[e._v("职位：")]),e._v("普通员工")]),e._v(" "),a("div",{staticClass:"replacement-content"},[a("el-checkbox-group",{model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.empList,function(t){return a("el-checkbox",{key:t.employeeId,attrs:{label:t.employeeId}},[e._v(e._s(t.employeeName))])}),1)],1),e._v(" "),a("div",{staticClass:"replacement-save"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.savePost}},[e._v("保存")])],1)])],1)],1)};p._withStripped=!0;var d={render:p,staticRenderFns:[]},f=d;var u=!1;var v=a("VU/8")(m,f,!1,function(e){u||a("gQgw")},"data-v-f32e3d38",null);v.options.__file="src/views/home/setting/settingPosition/edit/edit.vue";t.default=v.exports}});