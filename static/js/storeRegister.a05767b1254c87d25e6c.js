webpackJsonp([24],{"2dxT":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.store-register .el-step.is-simple .el-step__icon {\n  display: none;\n}\n",""])},GBnY:function(e,t,n){var a=n("2dxT");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("3794727e",a,!1,{})},"M/vg":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("dmRH"),n("+BTi");var a=n("EKTV"),s=n.n(a),r=(n("EYpU"),n("9Y4M")),o=n.n(r),i=(n("Z1wW"),n("raHz")),c=n.n(i),l=n("8Cem"),d={name:"StoreRegister",components:{ElSteps:c.a,ElStep:o.a,ElCheckbox:s.a,MqlAreaSelect:l.a},data:function(){return{form:{tenantType:"",tenantName:"",address:""},rules:{tenantName:[{required:!0,message:"品牌名称不能为空",trigger:"change"}]},area:{},isAgree:!1,activeIndex:1}},created:function(){var e=this.$route.query.tenantType;e||this.$router.replace({name:"storeCreate"}),this.form.tenantType=e},methods:{logout:function(){var e=this;this.API.common.logout().then(function(t){e.utils.removeCookie("AUTH_TOKEN"),e.$router.push({name:"logout"})})},goProtocol:function(){window.open("/store/protocol","_blank")},goHome:function(){this.$router.replace({path:"/"})},goPPSet:function(){this.$router.replace({name:"homeMarketApps"})},createSubmit:function(){var e=this;this.$refs.form.validate(function(t){t&&e.API.store.storeCreate(Object.assign({provinceCode:e.area.provinceCode,cityCode:e.area.cityCode,districtCode:e.area.districtCode},e.form)).then(function(t){var n=t;e.activeIndex=2,e.API.store.getTenentListData({pageSize:9999,pageNum:1}).then(function(t){var a=t.list.filter(function(e){return e.tenantId===n});a.length>0&&e.cookies.set("storeInfo",a[0])})})})}}},p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"store-register"},[a("div",{staticClass:"header"},[a("img",{staticClass:"header__logo",attrs:{src:n("iQH9")}}),e._v(" "),a("span",{staticClass:"header__text"},[e._v("美其零")]),a("span",{staticClass:"header__line"}),a("span",{staticClass:"header__title"},[e._v("创建店铺")]),e._v(" "),a("div",{staticClass:"fr"},[a("span",{staticClass:"login-name"},[e._v("13798568899")]),e._v(" "),a("a",{staticClass:"logout",attrs:{href:"javascript:void(0)"},on:{click:e.logout}},[e._v("退出")])])]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"step-tabs"},[a("span",{staticClass:"step-tab",class:{active:1===e.activeIndex},attrs:{span:11}},[e._v("1. 创建品牌")]),e._v(" "),a("span",{staticClass:"step-tab",class:{active:2===e.activeIndex},attrs:{span:11}},[e._v("2. 完成")])]),e._v(" "),a("div",{staticClass:"step-content"},[1===e.activeIndex?[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"品牌名称",prop:"tenantName"}},[a("el-input",{attrs:{maxlength:"15",placeholder:"长度15个字以内"},model:{value:e.form.tenantName,callback:function(t){e.$set(e.form,"tenantName",t)},expression:"form.tenantName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"门店位置"}},[a("mql-area-select",{staticClass:"fl w280",model:{value:e.area,callback:function(t){e.area=t},expression:"area"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{maxlength:"200"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",[a("el-checkbox",{model:{value:e.isAgree,callback:function(t){e.isAgree=t},expression:"isAgree"}},[e._v("我已阅读并同意 "),a("a",{staticClass:"protocol",attrs:{href:"javascript:void(0)"},on:{click:e.goProtocol}},[e._v("《美其零xxxx协议》")])])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:!e.isAgree},on:{click:e.createSubmit}},[e._v("创建店铺")])],1)],1)]:e._e(),e._v(" "),e.activeIndex>1?[a("div",{staticClass:"finish-step"},[a("div",{staticClass:"message"},[e._m(0),e._v(" "),a("p",{staticClass:"tip gray"},[e._v("为保证所有功能正常，授权公众号时请保持默认选择，把权限统一授权给美其零")]),e._v(" "),a("p",[a("el-button",{attrs:{type:"success"},on:{click:e.goPPSet}},[e._v("我有微信公众号，立即设置")])],1),a("p",[a("el-button",{attrs:{type:"primary"},on:{click:e.goHome}},[e._v("稍后再说，进入店铺后台")])],1)])])]:e._e()],2)])])};p._withStripped=!0;var v={render:p,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"text"},[this._v("如果您已有"),t("span",{staticClass:"stress"},[this._v("微信公众号")]),this._v("，马上把店铺与微信公众号打通吧：")])}]},g=v;var h=!1;var f=n("VU/8")(d,g,!1,function(e){h||(n("nRb3"),n("GBnY"))},"data-v-4492226e",null);f.options.__file="src/views/store/register/index.vue";t.default=f.exports},UhT3:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.store-register[data-v-4492226e] {\n  width: 900px;\n  margin: 0px auto;\n}\n.store-register .header[data-v-4492226e] {\n    height: 60px;\n    line-height: 60px;\n    border-bottom: 1px solid #eeeeee;\n}\n.store-register .header .header__logo[data-v-4492226e], .store-register .header .header__text[data-v-4492226e], .store-register .header .header__line[data-v-4492226e], .store-register .header .header__title[data-v-4492226e] {\n      vertical-align: middle;\n}\n.store-register .header .header__logo[data-v-4492226e] {\n      width: 39px;\n      height: 39px;\n}\n.store-register .header .header__text[data-v-4492226e] {\n      font-weight: 600;\n      font-size: 18px;\n      color: #CC0066;\n}\n.store-register .header .header__line[data-v-4492226e] {\n      margin-left: 10px;\n      margin-right: 10px;\n      border-left: 1px solid #bcbcbc;\n}\n.store-register .header .login-name[data-v-4492226e] {\n      margin-right: 30px;\n}\n.store-register .content[data-v-4492226e] {\n    margin-top: 20px;\n    height: 500px;\n    border: 1px solid #eeeeee;\n}\n.store-register .content .step-tabs[data-v-4492226e] {\n      height: 50px;\n      line-height: 50px;\n      text-align: center;\n      color: #999999;\n      font-size: 16px;\n}\n.store-register .content .step-tabs .step-tab[data-v-4492226e] {\n        display: inline-block;\n        width: 445px;\n        color: #ffffff;\n        background-color: #3399ff;\n        cursor: pointer;\n}\n.store-register .content .step-tabs .step-tab[data-v-4492226e]:first-child {\n          margin-right: 2px;\n}\n.store-register .content .step-tabs .step-tab.active + .step-tab[data-v-4492226e] {\n          color: #999999;\n          background-color: #f5f7fa;\n}\n.store-register .content .step-content[data-v-4492226e] {\n      padding: 30px 10px;\n}\n.store-register .content .el-input[data-v-4492226e], .store-register .content .el-select[data-v-4492226e] {\n      width: 500px;\n}\n.store-register .content .protocol[data-v-4492226e] {\n      color: #409EFF;\n}\n.store-register .content .finish-step[data-v-4492226e] {\n      text-align: center;\n}\n.store-register .content .message[data-v-4492226e] {\n      display: inline-block;\n}\n.store-register .content .message .text[data-v-4492226e], .store-register .content .message .tip[data-v-4492226e] {\n        line-height: 28px;\n}\n.store-register .content .message .stress[data-v-4492226e] {\n        color: #FF9933;\n}\n.store-register .content .message .text[data-v-4492226e] {\n        font-size: 14px;\n        text-align: left;\n}\n.store-register .content .message .tip[data-v-4492226e] {\n        font-size: 13px;\n}\n.store-register .content .message .el-button[data-v-4492226e] {\n        margin-top: 20px;\n        width: 190px;\n}\n",""])},nRb3:function(e,t,n){var a=n("UhT3");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("0dc245cc",a,!1,{})}});